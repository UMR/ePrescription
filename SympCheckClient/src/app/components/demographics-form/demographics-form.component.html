<div class="demographics-container">
  <div class="step-header">
    <h2>Step {{ currentStep }} of {{ totalSteps }}: Demographic Information</h2>
    <div class="progress-bar">
      <div class="progress" [style.width.%]="(currentStep / totalSteps) * 100"></div>
    </div>
  </div>

  <!-- Step 1: Basic Information -->
  <div class="step-content" *ngIf="currentStep === 1">
    <h3>Basic Information</h3>
    <label>Age</label>
    <input
      type="number"
      [(ngModel)]="demographics.age"
      (change)="onDemographicsChange()"
      placeholder="Enter your age"
    />

    <label>Gender</label>
    <div class="radio-group" role="radiogroup" aria-label="Gender">
      <label class="radio-option">
        <input
          type="radio"
          name="gender"
          [(ngModel)]="demographics.gender"
          (change)="onDemographicsChange()"
          value="male"
        />
        <span>Male</span>
      </label>
      <label class="radio-option">
        <input
          type="radio"
          name="gender"
          [(ngModel)]="demographics.gender"
          (change)="onDemographicsChange()"
          value="female"
        />
        <span>Female</span>
      </label>
      <label class="radio-option">
        <input
          type="radio"
          name="gender"
          [(ngModel)]="demographics.gender"
          (change)="onDemographicsChange()"
          value="notspecified"
        />
        <span>Not Specified</span>
      </label>
    </div>

    <label>Height (cm)</label>
    <input
      type="number"
      [(ngModel)]="demographics.height"
      (change)="onDemographicsChange()"
      placeholder="Enter height in cm"
    />

    <label>Weight (kg)</label>
    <input
      type="number"
      [(ngModel)]="demographics.weight"
      (change)="onDemographicsChange()"
      placeholder="Enter weight in kg"
    />
  </div>

  <!-- Step 2: Vitals -->
  <div class="step-content" *ngIf="currentStep === 2">
    <h3>Vitals</h3>
    <label>Temperature (Â°F)</label>
    <input
      type="number"
      step="0.1"
      [(ngModel)]="demographics.temperature"
      (change)="onDemographicsChange()"
      placeholder="Enter temperature"
    />

    <label>Blood Pressure (Systolic)</label>
    <input
      type="number"
      [(ngModel)]="demographics.bloodPressureSystolic"
      (change)="onDemographicsChange()"
      placeholder="e.g., 120"
    />

    <label>Blood Pressure (Diastolic)</label>
    <input
      type="number"
      [(ngModel)]="demographics.bloodPressureDiastolic"
      (change)="onDemographicsChange()"
      placeholder="e.g., 80"
    />

    <label>Heart Rate (bpm)</label>
    <input
      type="number"
      [(ngModel)]="demographics.heartRate"
      (change)="onDemographicsChange()"
      placeholder="Enter heart rate"
    />
  </div>

  <!-- Navigation -->
  <div class="navigation-buttons">
    <button type="button" (click)="prevStep()" [disabled]="currentStep === 1" class="btn-secondary">Previous</button>
    <button type="button" *ngIf="currentStep === 2" (click)="populateRandom()" class="btn-secondary">Populate Random</button>
    <button type="button" (click)="reset()" class="btn-secondary">Reset</button>
    <button
      type="button"
      (click)="currentStep < totalSteps ? nextStep() : onSubmit()"
      class="btn-primary"
    >
      {{ currentStep === totalSteps ? 'Submit & Analyze' : 'Next' }}
    </button>
  </div>
</div>
